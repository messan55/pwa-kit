"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[760],{2255:(e,t,a)=>{a.d(t,{Z:()=>v});var r=a(7462),n=a(5987),l=a(7294),s=a(5697),o=a.n(s),d=a(6896),i=a(6550),c=a(3727),m=a(1659),u=a(8527),p=a(5193),g=a(1391),f=a(9731);const E=["urls","currentURL"],h="undefined"==typeof window,y=e=>{const t=(0,d.Z)(),a=(0,m.mq)("Pagination"),s=(0,i.k6)(),{urls:o,currentURL:y}=e,v=(0,n.Z)(e,E),b=o.indexOf(y)>0?o.indexOf(y):0,x=o[b-1],_=o[b+1];return l.createElement(u.kC,(0,r.Z)({"data-testid":"sf-pagination",className:"sf-pagination"},a.container,v),l.createElement(p.zx,(0,r.Z)({},a.button,{as:h?u.rU:c.Link,href:x||y,to:x||y,"aria-label":"Previous Page",isDisabled:!x,variant:"link"}),l.createElement(f.wy,null),l.createElement(u.xv,null,t.formatMessage({id:"pagination.link.prev",defaultMessage:[{type:0,value:"Prev"}]}))),l.createElement(u.kC,{paddingLeft:4,paddingRight:4},l.createElement(g.Ph,{id:"pagination",onChange:e=>{s.push(e.target.value)},value:y,height:11},o.map(((e,t)=>l.createElement("option",{key:t,value:e},t+1)))),l.createElement(u.xv,a.text,t.formatMessage({id:"pagination.field.num_of_pages",defaultMessage:[{type:0,value:"of "},{type:1,value:"numOfPages"}]},{numOfPages:o.length}))),l.createElement(p.zx,(0,r.Z)({},a.button,{as:h?u.rU:c.Link,href:_||y,to:_||y,"aria-label":"Next Page",isDisabled:!_,variant:"link"}),l.createElement(u.xv,null,t.formatMessage({id:"pagination.link.next",defaultMessage:[{type:0,value:"Next"}]})),l.createElement(f.XC,null)))};y.displayName="Pagination",y.propTypes={urls:o().array.isRequired,currentURL:o().string};const v=y},4736:(e,t,a)=>{a.r(t),a.d(t,{default:()=>Pe});var r=a(5861),n=a(7294),l=a(5697),s=a.n(l),o=a(6896),d=a(4012),i=a(6550),c=a(8527),m=a(5193),u=a(7319),p=a(2736),g=a(9065),f=a(9080),E=a(9731),h=a(7462),y=a(5987),v=a(4107),b=a(3083),x=a(6886),_=a(2283),w=a(429),S=a(198),Z=a(1056);const M=({form:e,prefix:t=""})=>{const a=function({form:{control:e,errors:t},prefix:a=""}){const{formatMessage:r}=(0,o.Z)();return{firstName:{name:`${a}firstName`,label:r({defaultMessage:[{type:0,value:"First Name"}],id:"use_profile_fields.label.first_name"}),type:"text",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your first name."}],id:"use_profile_fields.error.required_first_name"})},error:t[`${a}firstName`],control:e},lastName:{name:`${a}lastName`,label:r({defaultMessage:[{type:0,value:"Last Name"}],id:"use_profile_fields.label.last_name"}),type:"text",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your last name."}],id:"use_profile_fields.error.required_last_name"})},error:t[`${a}lastName`],control:e},email:{name:`${a}email`,label:r({defaultMessage:[{type:0,value:"Email"}],id:"use_profile_fields.label.email"}),placeholder:"you@email.com",type:"email",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please enter a valid email address."}],id:"use_profile_fields.error.required_email"})},error:t[`${a}email`],control:e},phone:{name:`${a}phone`,label:r({defaultMessage:[{type:0,value:"Phone Number"}],id:"use_profile_fields.label.phone"}),defaultValue:"",type:"text",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your phone number."}],id:"use_profile_fields.error.required_phone"})},error:t[`${a}phone`],inputProps:({onChange:e})=>({onChange(t){e((0,S.u)(t.target.value))}}),control:e}}}({form:e,prefix:t});return n.createElement(c.Kq,{spacing:5},n.createElement(c.MI,{columns:[1,1,1,2],spacing:5},n.createElement(Z.Z,a.firstName),n.createElement(Z.Z,a.lastName)),n.createElement(Z.Z,a.email),n.createElement(Z.Z,a.phone))};M.propTypes={form:s().object.isRequired,prefix:s().string};const O=M;var I=a(4038),C=a(7071);const k=({form:e,prefix:t=""})=>{const a=function({form:{control:e,errors:t},prefix:a=""}){const{formatMessage:r}=(0,o.Z)();return{currentPassword:{name:`${a}currentPassword`,label:r({defaultMessage:[{type:0,value:"Current Password"}],id:"use_update_password_fields.label.current_password"}),defaultValue:"",type:"password",rules:{required:r({defaultMessage:[{type:0,value:"Please enter your password."}],id:"use_update_password_fields.error.required_password"})},error:t[`${a}currentPassword`],control:e},password:{name:`${a}password`,label:r({defaultMessage:[{type:0,value:"New Password"}],id:"use_update_password_fields.label.new_password"}),type:"password",defaultValue:"",rules:{required:r({defaultMessage:[{type:0,value:"Please provide a new password."}],id:"use_update_password_fields.error.required_new_password"}),validate:{hasMinChars:e=>(0,I.u)(e).hasMinChars||r({defaultMessage:[{type:0,value:"Password must contain at least 8 characters."}],id:"use_update_password_fields.error.minimum_characters"}),hasUppercase:e=>(0,I.u)(e).hasUppercase||r({defaultMessage:[{type:0,value:"Password must contain at least one uppercase letter."}],id:"use_update_password_fields.error.uppercase_letter"}),hasLowercase:e=>(0,I.u)(e).hasLowercase||r({defaultMessage:[{type:0,value:"Password must contain at least one lowercase letter."}],id:"use_update_password_fields.error.lowercase_letter"}),hasNumber:e=>(0,I.u)(e).hasNumber||r({defaultMessage:[{type:0,value:"Password must contain at least one number."}],id:"use_update_password_fields.error.contain_number"}),hasSpecialChar:e=>(0,I.u)(e).hasSpecialChar||r({defaultMessage:[{type:0,value:"Password must contain at least one special character."}],id:"use_update_password_fields.error.special_character"})}},error:t[`${a}password`],control:e}}}({form:e,prefix:t}),r=e.watch("password");return n.createElement(c.Kq,{spacing:5,divider:n.createElement(c.cX,{borderColor:"gray.100"})},n.createElement(c.Kq,null,n.createElement(Z.Z,a.currentPassword),n.createElement(c.xu,null,n.createElement(m.zx,{variant:"link",size:"sm",onClick:()=>null},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Forgot Password?"}],id:"update_password_fields.button.forgot_password"})))),n.createElement(c.Kq,{spacing:3,pb:2},n.createElement(Z.Z,a.password),n.createElement(C.Z,{value:r})))};k.propTypes={form:s().object.isRequired,prefix:s().string};const z=k;var P=a(2853);const N=["children","height","width"],q=e=>{let{children:t,height:a,width:r}=e,l=(0,y.Z)(e,N);const{isRegistered:s}=(0,p.Z)(),o=s?{}:{height:a,width:r};return n.createElement(v.Od,(0,h.Z)({isLoaded:s},l,o),t)},A=()=>{var e;const{formatMessage:t}=(0,o.Z)(),a=(0,p.Z)(),l=(0,b.pm)(),[s,i]=(0,n.useState)(!1),m=(0,_.cI)({defaultValues:{firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phoneHome}});(0,n.useEffect)((()=>{m.reset({firstName:a.firstName,lastName:a.lastName,email:a.email,phone:a.phoneHome})}),[a]);const u=function(){var e=(0,r.Z)((function*(e){try{m.clearErrors(),yield a.updateCustomer(e),i(!1),l({title:t({defaultMessage:[{type:0,value:"Profile updated"}],id:"profile_card.info.profile_updated"}),status:"success",isClosable:!0})}catch(e){m.setError("global",{type:"manual",message:e.message})}}));return function(t){return e.apply(this,arguments)}}(),{isRegistered:g}=a;return n.createElement(w.Dj,{id:"my-profile",title:n.createElement(q,{height:"30px",width:"120px"},t({defaultMessage:[{type:0,value:"My Profile"}],id:"profile_card.title.my_profile"})),editing:s,isLoading:m.formState.isSubmitting,onEdit:g?()=>i(!0):void 0,layerStyle:"cardBordered"},n.createElement(w.Zz,null,n.createElement(c.W2,{variant:"form"},n.createElement("form",{onSubmit:m.handleSubmit(u)},n.createElement(c.Kq,{spacing:6},(null===(e=m.errors)||void 0===e?void 0:e.global)&&n.createElement(x.bZ,{status:"error"},n.createElement(E.zM,{color:"red.500",boxSize:4}),n.createElement(c.xv,{fontSize:"sm",ml:3},m.errors.global.message)),n.createElement(O,{form:m}),n.createElement(P.Z,{onCancel:()=>i(!1)}))))),n.createElement(w.Ru,null,n.createElement(c.MI,{columns:{base:1,lg:3},spacing:4},n.createElement(c.xu,null,n.createElement(q,{height:"21px",width:"84px",marginBottom:2},n.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Full Name"}],id:"profile_card.label.full_name"}))),n.createElement(q,{height:"21px",width:"140px"},n.createElement(c.xv,{fontSize:"sm"},a.firstName," ",a.lastName))),n.createElement(c.xu,null,n.createElement(q,{height:"21px",width:"120px",marginBottom:2},n.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Email"}],id:"profile_card.label.email"}))),n.createElement(q,{height:"21px",width:"64px"},n.createElement(c.xv,{fontSize:"sm"},a.email))),n.createElement(c.xu,null,n.createElement(q,{height:"21px",width:"80px",marginBottom:2},n.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Phone Number"}],id:"profile_card.label.phone"}))),n.createElement(q,{height:"21px",width:"120px"},n.createElement(c.xv,{fontSize:"sm"},a.phoneHome||n.createElement(d.Z,{defaultMessage:[{type:0,value:"Not provided"}],id:"profile_card.message.not_provided"})))))))},K=()=>{var e;const{formatMessage:t}=(0,o.Z)(),a=(0,p.Z)(),l=(0,b.pm)(),[s,i]=(0,n.useState)(!1),m=(0,_.cI)(),u=function(){var e=(0,r.Z)((function*(e){try{m.clearErrors(),yield a.updatePassword(e,a.email),i(!1),l({title:t({defaultMessage:[{type:0,value:"Password updated"}],id:"password_card.info.password_updated"}),status:"success",isClosable:!0})}catch(e){m.setError("global",{type:"manual",message:e.message})}}));return function(t){return e.apply(this,arguments)}}(),{isRegistered:g}=a;return n.createElement(w.Dj,{id:"password",title:n.createElement(q,{height:"30px",width:"120px"},t({defaultMessage:[{type:0,value:"Password"}],id:"password_card.title.password"})),editing:s,isLoading:m.formState.isSubmitting,onEdit:g?()=>i(!0):void 0,layerStyle:"cardBordered"},n.createElement(w.Zz,null,n.createElement(c.W2,{variant:"form"},n.createElement("form",{onSubmit:m.handleSubmit(u)},n.createElement(c.Kq,{spacing:6},(null===(e=m.errors)||void 0===e?void 0:e.global)&&n.createElement(x.bZ,{status:"error"},n.createElement(E.zM,{color:"red.500",boxSize:4}),n.createElement(c.xv,{fontSize:"sm",ml:3},m.errors.global.message)),n.createElement(z,{form:m}),n.createElement(P.Z,{onCancel:()=>i(!1)}))))),n.createElement(w.Ru,null,n.createElement(c.MI,{columns:{base:1,lg:3},spacing:4},n.createElement(c.xu,null,n.createElement(q,{height:"21px",width:"84px",marginBottom:2},n.createElement(c.xv,{fontSize:"sm",fontWeight:"bold"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Password"}],id:"password_card.label.password"}))),n.createElement(q,{height:"21px",width:"140px"},n.createElement(c.xv,{fontSize:"sm"},"••••••••"))))))},j=()=>n.createElement(c.Kq,{"data-testid":"account-detail-page",spacing:6},n.createElement(c.X6,{as:"h1",fontSize:"24px"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Account Details"}],id:"account_detail.title.account_details"})),n.createElement(c.Kq,{spacing:4},n.createElement(A,null),n.createElement(K,null)));j.getTemplateName=()=>"account-detail";const B=j;var D=a(4572),T=a(4093),L=a(8489),$=a(5476),R=a(9049),W=a(4025);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function X(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(Object(a),!0).forEach((function(t){(0,D.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const H=()=>n.createElement(c.xu,{width:3,height:3,borderLeft:"1px solid",borderTop:"1px solid",borderColor:"blue.600",position:"absolute",left:"50%",bottom:"-23px",zIndex:1,background:"white",transform:"rotate(45deg)"}),U=({form:e,hasAddresses:t,selectedAddressId:a,toggleEdit:r,submitForm:l})=>{var s;return n.createElement(c.xu,(0,h.Z)({border:"1px solid",borderColor:"gray.200",borderRadius:"base",position:"relative"},t&&{gridColumn:[1,"span 2","span 2","span 2","span 3"],paddingX:[4,4,6],paddingY:6,rounded:"base",border:"1px solid",borderColor:"blue.600"}),e.formState.isSubmitting&&n.createElement(T.Z,null),n.createElement(c.Kq,{spacing:6,padding:6},n.createElement(c.X6,{as:"h3",size:"sm"},a?n.createElement(d.Z,{defaultMessage:[{type:0,value:"Edit Address"}],id:"shipping_address_form.heading.edit_address"}):n.createElement(d.Z,{defaultMessage:[{type:0,value:"Add New Address"}],id:"shipping_address_form.heading.new_address"})),n.createElement(c.xu,null,n.createElement(c.W2,{variant:"form"},n.createElement("form",{onSubmit:e.handleSubmit(l)},n.createElement(c.Kq,{spacing:6},(null===(s=e.errors)||void 0===s?void 0:s.global)&&n.createElement(x.bZ,{status:"error"},n.createElement(x.zM,{color:"red.500",boxSize:4}),n.createElement(c.xv,{fontSize:"sm",ml:3},e.errors.global.message)),n.createElement($.Z,{form:e}),n.createElement(P.Z,{onCancel:r})))))))};U.propTypes={form:s().object,hasAddresses:s().bool,selectedAddressId:s().string,toggleEdit:s().func,submitForm:s().func};const V=()=>{const{formatMessage:e}=(0,o.Z)(),{isRegistered:t,addresses:a,addSavedAddress:l,updateSavedAddress:s,removeSavedAddress:i}=(0,p.Z)(),[u,g]=(0,n.useState)(!1),[f,h]=(0,n.useState)(!1),y=(0,b.pm)(),x=(0,_.cI)(),w=(null==a?void 0:a.length)>0,S=function(){var t=(0,r.Z)((function*(t){try{x.clearErrors(),f?yield s(X(X({},t),{},{addressId:f})):yield l(t),M(),y({title:e(f?{defaultMessage:[{type:0,value:"Address updated"}],id:"account_addresses.info.address_updated"}:{defaultMessage:[{type:0,value:"New address saved"}],id:"account_addresses.info.new_address_saved"}),status:"success",isClosable:!0})}catch(e){x.setError("global",{type:"manual",message:e.message})}}));return function(e){return t.apply(this,arguments)}}(),Z=function(){var e=(0,r.Z)((function*(e){try{e===f&&(h(void 0),g(!1),x.reset({addressId:""})),yield i(e)}catch(e){x.setError("global",{type:"manual",message:e.message})}}));return function(t){return e.apply(this,arguments)}}(),M=e=>{x.reset(X({},e)),null!=e&&e.addressId?(h(e.addressId),g(!0)):(h(void 0),g(!u))};return n.createElement(c.Kq,{spacing:4,"data-testid":"account-addresses-page"},n.createElement(c.X6,{as:"h1",fontSize:"2xl"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Addresses"}],id:"account_addresses.title.addresses"})),!t&&n.createElement(c.MI,{columns:[1,2,2,2,3],spacing:4},new Array(3).fill().map(((e,t)=>n.createElement(L.Z,{key:t},n.createElement(c.Kq,{spacing:2,marginBottom:7},n.createElement(v.Od,{height:"23px",width:"120px"}),n.createElement(v.Od,{height:"23px",width:"84px"}),n.createElement(v.Od,{height:"23px",width:"104px"})))))),w&&n.createElement(c.MI,{columns:[1,2,2,2,3],spacing:4,gridAutoFlow:"row dense"},n.createElement(m.zx,{variant:"outline",border:"1px dashed",borderColor:"gray.200",color:"blue.600",height:{lg:"full"},minHeight:11,rounded:"base",fontWeight:"medium",leftIcon:n.createElement(E.pO,{display:"block",boxSize:"15px"}),onClick:M},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Add Address"}],id:"account_addresses.button.add_address"}),u&&!f&&n.createElement(H,null)),u&&!f&&n.createElement(U,{form:x,hasAddresses:w,submitForm:S,selectedAddressId:f,toggleEdit:M}),a.map((e=>n.createElement(n.Fragment,{key:e.addressId},n.createElement(L.Z,{borderColor:"gray.200",key:e.addressId,onRemove:()=>Z(e.addressId),onEdit:()=>M(e)},e.preferred&&n.createElement(c.Ct,{position:"absolute",fontSize:"xs",right:4,variant:"solid",bg:"gray.100",color:"gray.900"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Default"}],id:"account_addresses.badge.default"})),n.createElement(R.Z,{address:e}),u&&e.addressId===f&&n.createElement(H,null)),u&&e.addressId===f&&n.createElement(U,{form:x,hasAddresses:w,submitForm:S,selectedAddressId:f,toggleEdit:M}))))),!w&&n.createElement(n.Fragment,null,!u&&t&&n.createElement(W.Z,{icon:n.createElement(E._t,{boxSize:8}),heading:e({defaultMessage:[{type:0,value:"No Saved Addresses"}],id:"account_addresses.page_action_placeholder.heading.no_saved_addresses"}),text:e({defaultMessage:[{type:0,value:"Add a new address method for faster checkout."}],id:"account_addresses.page_action_placeholder.message.add_new_address"}),buttonText:e({defaultMessage:[{type:0,value:"Add Address"}],id:"account_addresses.page_action_placeholder.button.add_address"}),onButtonClick:M}),u&&!f&&n.createElement(U,{form:x,hasAddresses:w,submitForm:S,selectedAddressId:f,toggleEdit:M})))};V.getTemplateName=()=>"account-addresses";const Y=V;var G=a(49),Q=a(4651),J=a(6933),ee=a(3737);const te=["data"];function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function re(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){(0,D.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ne=n.createContext(),le=({children:e})=>{const t=(0,n.useRef)(),a=(0,p.Z)(),[l,s]=(0,n.useState)({orderIdsByOffset:{},ordersById:{},paging:{limit:10,offset:0,total:0},productsById:{},isLoading:!0}),o=(0,n.useCallback)((e=>{t.current&&s((t=>re(re({},t),e)))})),d=function(){var e=(0,r.Z)((function*({offset:e=0,limit:t=10}){const r=l.orderIdsByOffset[e];let n=null==r?void 0:r.map((e=>l.ordersById[e]));if(!r){o({isLoading:!0});const r=yield a.getCustomerOrders({offset:e,limit:t}),{data:s=[]}=r,d=(0,y.Z)(r,te);n=s,o({orderIdsByOffset:re(re({},l.orderIdsByOffset),{},{[e]:s.map((e=>e.orderNo))}),ordersById:re(re({},l.ordersById),null==s?void 0:s.reduce(((e,t)=>re(re({},e),{},{[t.orderNo]:t})),{})),paging:d,isLoading:!1})}if(n){let e={};for(let t of n){const r=t.productItems.map((e=>e.productId)).filter((t=>!e[t]&&!l.productsById[t]));if(r.length<1)continue;const n=yield a.getCustomerOrderProductsDetail(r);e=re(re({},e),n)}s((t=>re(re({},t),{},{productsById:re(re({},t.productsById),e)})))}}));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)((function*(e){let t=l.ordersById[e];t||(o({isLoading:!0}),t=yield a.getOrder(e),o({ordersById:re(re({},l.ordersById),{},{[t.orderNo]:t}),isLoading:!1}));const r=t.productItems.map((e=>e.productId)).filter((e=>!l.productsById[e]));if(r.length>0){const e=yield a.getCustomerOrderProductsDetail(r);o({productsById:re(re({},l.productsById),e)})}}));return function(t){return e.apply(this,arguments)}}();(0,n.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]);const c=n.useMemo((()=>re(re({},l),{},{fetchOrders:d,fetchOrder:i})),[l,a,o]);return n.createElement(ne.Provider,{value:c},e)};le.propTypes={children:s().any};const se=()=>n.useContext(ne);var oe=a(2255);const de=()=>{var e;const t=(0,i.TH)(),{formatMessage:a,formatDate:r}=(0,o.Z)(),l=(0,ee.lr)({limit:10,offset:0}),s=(0,J.Z)(),u=(0,p.Z)(),{orderIdsByOffset:g,ordersById:h,productsById:y,isLoading:b,fetchOrders:x,paging:_}=se(),w=(0,ee.g6)({total:_.total,limit:_.limit}),S=(null===(e=g[l.offset||0])||void 0===e?void 0:e.map((e=>h[e])))||[];return(0,n.useEffect)((()=>{x(l),window.scrollTo(0,0)}),[u,l.offset]),n.createElement(c.Kq,{spacing:4,"data-testid":"account-order-history-page"},n.createElement(c.Kq,null,n.createElement(c.X6,{as:"h1",fontSize:"2xl"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Order History"}],id:"account_order_history.title.order_history"}))),b&&[1,2,3].map((e=>n.createElement(c.Kq,{key:e,spacing:4,layerStyle:"cardBordered"},n.createElement(c.Kq,{spacing:2},n.createElement(v.Od,{h:"20px",w:"112px"}),n.createElement(v.Od,{h:"20px",w:"200px"})),n.createElement(c.rj,{templateColumns:{base:"repeat(auto-fit, 88px)"},gap:4},Array.from(Array(4).keys()).map((e=>n.createElement(v.Od,{key:e,w:"88px",h:"88px"})))),n.createElement(v.Od,{h:"20px",w:"200px"})))),S.length>0&&!b&&n.createElement(c.Kq,{spacing:4},S.map((e=>n.createElement(c.Kq,{key:e.orderNo,spacing:4,layerStyle:"cardBordered"},n.createElement(c.xu,null,n.createElement(c.kC,{justifyContent:"space-between"},n.createElement(c.xv,{fontWeight:"bold",fontSize:"lg"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Ordered: "},{type:1,value:"date"}],id:"account_order_history.label.ordered_date",values:{date:r(new Date(e.creationDate),{year:"numeric",day:"numeric",month:"short"})}})),n.createElement(c.xu,null,n.createElement(m.zx,{as:f.Z,to:`/account/orders/${e.orderNo}`,variant:"link",rightIcon:n.createElement(E.XC,{boxSize:5,mx:-1.5}),fontSize:{base:"sm",lg:"md"}},n.createElement(d.Z,{defaultMessage:[{type:0,value:"View details"}],id:"account_order_history.link.view_details"})))),n.createElement(c.Kq,{direction:"row",alignItems:"center"},n.createElement(c.xv,null,n.createElement(d.Z,{defaultMessage:[{type:0,value:"Order Number: "},{type:1,value:"orderNumber"}],id:"account_order_history.label.order_number",values:{orderNumber:e.orderNo}})),n.createElement(c.Ct,{colorScheme:"green"},e.status))),n.createElement(c.rj,{templateColumns:{base:"repeat(auto-fit, 88px)"},gap:4},e.productItems.map((e=>{var t;const a=y[e.productId],r=null==a||null===(t=a.imageGroups)||void 0===t?void 0:t.find((e=>"small"===e.viewType)).images[0];return n.createElement(c.oM,{key:e.itemId,ratio:1,width:"88px",w:"88px",borderRadius:"base",overflow:"hidden"},n.createElement(Q.Ei,{alt:null==r?void 0:r.alt,src:(null==r?void 0:r.disBaseLink)||(null==r?void 0:r.link),fallback:n.createElement(c.xu,{background:"gray.100",boxSize:"full"})}))}))),n.createElement(c.Kq,{direction:{base:"column",lg:"row"},alignItems:{base:"flex-start",lg:"center"},spacing:{base:"2px",lg:3},divider:n.createElement(c.iz,{visibility:{base:"hidden",lg:"visible"},orientation:{lg:"vertical"},h:{base:0,lg:4}})},n.createElement(c.xv,null,n.createElement(d.Z,{defaultMessage:[{type:1,value:"count"},{type:0,value:" items"}],id:"account_order_history.label.num_of_items",values:{count:e.productItems.length}})),n.createElement(c.xv,null,n.createElement(G.BK,{style:"currency",currency:e.currency,value:e.orderTotal})),n.createElement(c.xv,null,n.createElement(d.Z,{defaultMessage:[{type:0,value:"Shipped to: "},{type:1,value:"name"}],id:"account_order_history.label.shipped_to",values:{name:`${e.shipments[0].shippingAddress.firstName} ${e.shipments[0].shippingAddress.lastName}`}})))))),S.length>0&&S.length<_.total&&n.createElement(c.xu,{pt:4},n.createElement(oe.Z,{currentURL:`${t.pathname}${t.search}`,urls:w}))),S.length<1&&!b&&n.createElement(W.Z,{icon:n.createElement(E.xV,{boxSize:8}),heading:a({defaultMessage:[{type:0,value:"You haven't placed an order yet."}],id:"account_order_history.heading.no_order_yet"}),text:a({defaultMessage:[{type:0,value:"Once you place an order the details will show up here."}],id:"account_order_history.description.once_you_place_order"}),buttonText:a({defaultMessage:[{type:0,value:"Continue Shopping"}],id:"account_order_history.button.continue_shopping"}),buttonProps:{leftIcon:void 0},onButtonClick:()=>s("/")}))};de.getTemplateName=()=>"account-order-history";const ie=de;var ce=a(2432),me=a(4103),ue=a(8921),pe=a(7068),ge=a(4517),fe=a(9070),Ee=a(8909);function he(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?he(Object(a),!0).forEach((function(t){(0,D.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):he(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}const ve=()=>{var e,t;const{url:a,params:r}=(0,i.$B)(),l=(0,i.k6)(),{formatMessage:s,formatDate:u}=(0,o.Z)(),{ordersById:p,productsById:g,isLoading:h,fetchOrder:y}=se(),b=p[r.orderNo];(0,n.useEffect)((()=>{y(r.orderNo)}),[]);const x=null==b?void 0:b.shipments[0],{shippingAddress:_,shippingMethod:w,shippingStatus:S,trackingNumber:Z}=x||{},M=null==b||null===(e=b.paymentInstruments[0])||void 0===e?void 0:e.paymentCard,O=(0,ce.pg)(null==M?void 0:M.cardType),I=null==b?void 0:b.productItems.reduce(((e,t)=>t.quantity+e),0);return n.createElement(c.Kq,{spacing:6,"data-testid":"account-order-details-page"},n.createElement(c.Kq,null,n.createElement(c.xu,null,n.createElement(m.zx,{as:f.Z,to:`${a.replace(`/${r.orderNo}`,"")}`,variant:"link",leftIcon:n.createElement(E.wy,null),size:"sm",onClick:e=>{"PUSH"===l.action&&(e.preventDefault(),l.goBack())}},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Back to Order History"}],id:"account_order_detail.link.back_to_history"}))),n.createElement(c.Kq,{spacing:[1,2]},n.createElement(c.X6,{as:"h1",fontSize:["lg","2xl"]},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Order Details"}],id:"account_order_detail.title.order_details"})),h?n.createElement(v.Od,{h:"20px",w:"192px"}):n.createElement(c.Kq,{direction:["column","row"],alignItems:["flex-start","center"],spacing:[0,3],divider:n.createElement(c.iz,{visibility:{base:"hidden",lg:"visible"},orientation:{lg:"vertical"},h:[0,4]})},n.createElement(c.xv,{fontSize:["sm","md"]},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Ordered: "},{type:1,value:"date"}],id:"account_order_detail.label.ordered_date",values:{date:u(new Date(b.creationDate),{year:"numeric",day:"numeric",month:"short"})}})),n.createElement(c.Kq,{direction:"row",alignItems:"center"},n.createElement(c.xv,{fontSize:["sm","md"]},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Order Number: "},{type:1,value:"orderNumber"}],id:"account_order_detail.label.order_number",values:{orderNumber:b.orderNo}})),n.createElement(c.Ct,{colorScheme:"green"},b.status))))),n.createElement(c.xu,{layerStyle:"cardBordered"},n.createElement(c.rj,{templateColumns:{base:"1fr",xl:"60% 1fr"},gap:{base:6,xl:2}},n.createElement(c.MI,{columns:{base:1,sm:2},columnGap:4,rowGap:5,py:{xl:6}},h&&n.createElement(n.Fragment,null,n.createElement(c.Kq,null,n.createElement(v.Od,{h:"20px",w:"84px"}),n.createElement(v.Od,{h:"20px",w:"112px"}),n.createElement(v.Od,{h:"20px",w:"56px"})),n.createElement(c.Kq,null,n.createElement(v.Od,{h:"20px",w:"84px"}),n.createElement(v.Od,{h:"20px",w:"56px"})),n.createElement(c.Kq,null,n.createElement(v.Od,{h:"20px",w:"112px"}),n.createElement(v.Od,{h:"20px",w:"84px"}),n.createElement(v.Od,{h:"20px",w:"56px"})),n.createElement(c.Kq,null,n.createElement(v.Od,{h:"20px",w:"60px"}),n.createElement(v.Od,{h:"20px",w:"84px"}),n.createElement(v.Od,{h:"20px",w:"56px"}))),!h&&n.createElement(n.Fragment,null,n.createElement(c.Kq,{spacing:1},n.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Shipping Method"}],id:"account_order_detail.heading.shipping_method"})),n.createElement(c.xu,null,n.createElement(c.xv,{fontSize:"sm",textTransform:"titlecase"},S.replace(/_/g," ")),n.createElement(c.xv,{fontSize:"sm"},w.name),n.createElement(c.xv,{fontSize:"sm"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Tracking Number"}],id:"account_order_detail.label.tracking_number"}),":"," ",Z||s({defaultMessage:[{type:0,value:"Pending"}],id:"account_order_detail.label.pending_tracking_number"})))),n.createElement(c.Kq,{spacing:1},n.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Payment Method"}],id:"account_order_detail.heading.payment_method"})),n.createElement(c.Kq,{direction:"row"},O&&n.createElement(O,{layerStyle:"ccIcon"}),n.createElement(c.xu,null,n.createElement(c.xv,{fontSize:"sm"},null==M?void 0:M.cardType),n.createElement(c.Kq,{direction:"row"},n.createElement(c.xv,{fontSize:"sm"},"••••"," ",null==M?void 0:M.numberLastDigits),n.createElement(c.xv,{fontSize:"sm"},null==M?void 0:M.expirationMonth,"/",null==M?void 0:M.expirationYear))))),n.createElement(c.Kq,{spacing:1},n.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Shipping Address"}],id:"account_order_detail.heading.shipping_address"})),n.createElement(c.xu,null,n.createElement(c.xv,{fontSize:"sm"},_.firstName," ",_.lastName),n.createElement(c.xv,{fontSize:"sm"},_.address1),n.createElement(c.xv,{fontSize:"sm"},_.city,", ",_.stateCode," ",_.postalCode))),n.createElement(c.Kq,{spacing:1},n.createElement(c.xv,{fontWeight:"bold",fontSize:"sm"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Billing Address"}],id:"account_order_detail.heading.billing_address"})),n.createElement(c.xu,null,n.createElement(c.xv,{fontSize:"sm"},b.billingAddress.firstName," ",b.billingAddress.lastName),n.createElement(c.xv,{fontSize:"sm"},b.billingAddress.address1),n.createElement(c.xv,{fontSize:"sm"},b.billingAddress.city,","," ",b.billingAddress.stateCode," ",b.billingAddress.postalCode))))),h?n.createElement(v.Od,{h:"full"}):n.createElement(c.xu,{py:{base:6},px:{base:6,xl:8},background:"gray.50",borderRadius:"base"},n.createElement(me.Z,{basket:b,fontSize:"sm"})))),n.createElement(c.Kq,{spacing:4},!h&&n.createElement(c.xv,null,n.createElement(d.Z,{defaultMessage:[{type:1,value:"count"},{type:0,value:" items"}],values:{count:I},id:"account_order_detail.heading.num_of_items"})),n.createElement(c.Kq,{spacing:4},h&&[1,2,3].map((e=>n.createElement(c.xu,{key:e,p:[4,6],border:"1px solid",borderColor:"gray.100",borderRadius:"base"},n.createElement(c.kC,{width:"full",align:"flex-start"},n.createElement(v.Od,{boxSize:["88px",36],mr:4}),n.createElement(c.Kq,{spacing:2},n.createElement(v.Od,{h:"20px",w:"112px"}),n.createElement(v.Od,{h:"20px",w:"84px"}),n.createElement(v.Od,{h:"20px",w:"140px"})))))),!h&&(null===(t=b.productItems)||void 0===t?void 0:t.map(((e,t)=>{const a=ye(ye(ye({},e),g[e.productId]),{},{price:e.price});return n.createElement(c.xu,{p:[4,6],key:e.productId,border:"1px solid",borderColor:"gray.100",borderRadius:"base"},n.createElement(ue.Z,{index:t,variant:a,currency:b.currency},n.createElement(c.kC,{width:"full",alignItems:"flex-start"},n.createElement(pe.Z,{width:["88px",36],mr:4}),n.createElement(c.Kq,{spacing:1,marginTop:"-3px",flex:1},n.createElement(ge.Z,null),n.createElement(c.kC,{width:"full",justifyContent:"space-between",alignItems:"flex-end"},n.createElement(fe.Z,{includeQuantity:!0,currency:b.currency}),n.createElement(Ee.Z,{currency:b.currency}))))))}))))))};ve.getTemplateName=()=>"account-order-history";const be=ve,xe=()=>{const{path:e}=(0,i.$B)();return n.createElement(le,null,n.createElement(i.rs,null,n.createElement(i.AW,{exact:!0,path:e},n.createElement(ie,null)),n.createElement(i.AW,{exact:!0,path:`${e}/:orderNo`},n.createElement(be,null))))};xe.getTemplateName=()=>"account-order-history";const _e=xe;var we=a(2507);const Se=({hasSavedPayments:e,form:t,submitForm:a,toggleEdit:r})=>{var l;return n.createElement(c.xu,(0,h.Z)({position:"relative",border:"1px solid",borderColor:"gray.200",borderRadius:"base"},e&&{gridColumn:[1,"span 2","span 2","span 2","span 3"],paddingX:[4,4,6],paddingY:6,rounded:"base",border:"1px solid",borderColor:"blue.600"}),t.formState.isSubmitting&&n.createElement(T.Z,null),n.createElement(c.Kq,{spacing:6,padding:6},n.createElement(c.X6,{as:"h3",size:"sm"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Add New Payment Method"}],id:"card_payment_form.heading.new_payment_method"})),n.createElement(c.xu,null,n.createElement(c.W2,{variant:"form"},n.createElement("form",{onSubmit:t.handleSubmit(a)},n.createElement(c.Kq,{spacing:6},(null===(l=t.errors)||void 0===l?void 0:l.global)&&n.createElement(x.bZ,{status:"error"},n.createElement(x.zM,{color:"red.500",boxSize:4}),n.createElement(c.xv,{fontSize:"sm",ml:3},t.errors.global.message)),n.createElement(we.Z,{form:t}),n.createElement(P.Z,{onCancel:()=>r()})))))))};Se.propTypes={form:s().object,hasSavedPayments:s().bool,submitForm:s().func,toggleEdit:s().func};const Ze=()=>{const{formatMessage:e}=(0,o.Z)(),{isRegistered:t,paymentInstruments:a,addSavedPaymentInstrument:l,removeSavedPaymentInstrument:s}=(0,p.Z)(),[i,u]=(0,n.useState)(!1),g=(0,b.pm)(),f=(0,_.cI)(),h=(null==a?void 0:a.length)>0,y=function(){var t=(0,r.Z)((function*(t){try{f.clearErrors();const a=(0,ce.yD)(t);yield l(a),w(),g({title:e({defaultMessage:[{type:0,value:"New Payment Method Saved"}],id:"account_payment_methods.info.new_method_saved"}),status:"success",isClosable:!0})}catch(e){f.setError("global",{type:"manual",message:e.message})}}));return function(e){return t.apply(this,arguments)}}(),x=function(){var e=(0,r.Z)((function*(e){try{yield s(e)}catch(e){f.setError("global",{type:"manual",message:e.message})}}));return function(t){return e.apply(this,arguments)}}(),w=()=>{f.reset(),u(!i)};return n.createElement(c.Kq,{spacing:4,"data-testid":"account-payment-methods-page"},n.createElement(c.X6,{as:"h1",fontSize:"2xl"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Payment Methods"}],id:"account_payment_methods.title.payment_methods"})),!t&&n.createElement(c.MI,{columns:[1,2,2,2,3],spacing:4},new Array(3).fill().map(((e,t)=>n.createElement(L.Z,{key:t},n.createElement(c.Kq,{spacing:2,marginBottom:3},n.createElement(v.Od,{height:"23px",width:"120px"}),n.createElement(v.Od,{height:"23px",width:"84px"}),n.createElement(v.Od,{height:"23px",width:"104px"})))))),h&&n.createElement(c.MI,{columns:[1,2,2,2,3],spacing:4,gridAutoFlow:"row dense"},n.createElement(m.zx,{variant:"outline",border:"1px dashed",borderColor:"gray.200",color:"blue.600",height:{lg:"full"},minHeight:11,rounded:"base",fontWeight:"medium",leftIcon:n.createElement(E.pO,{display:"block",boxSize:"15px"}),onClick:w},n.createElement(d.Z,{defaultMessage:[{type:0,value:"Add Payment Method"}],id:"account_payment_methods.button.add_method"}),i&&n.createElement(c.xu,{width:3,height:3,borderLeft:"1px solid",borderTop:"1px solid",borderColor:"blue.600",position:"absolute",left:"50%",bottom:"-23px",zIndex:1,background:"white",transform:"rotate(45deg)"})),i&&n.createElement(Se,{hasSavedPayments:h,form:f,toggleEdit:w,submitForm:y}),a.map((e=>{var t,a,r,l,s;const o=(0,ce.pg)(null===(t=e.paymentCard)||void 0===t?void 0:t.cardType);return n.createElement(L.Z,{key:e.paymentInstrumentId,onRemove:()=>x(e.paymentInstrumentId)},n.createElement(c.Kq,{direction:"row"},o&&n.createElement(o,{layerStyle:"ccIcon"}),n.createElement(c.Kq,{spacing:4},n.createElement(c.Kq,{spacing:1},n.createElement(c.xv,null,null===(a=e.paymentCard)||void 0===a?void 0:a.cardType),n.createElement(c.Kq,{direction:"row"},n.createElement(c.xv,null,"••••"," ",null===(r=e.paymentCard)||void 0===r?void 0:r.numberLastDigits),n.createElement(c.xv,null,null===(l=e.paymentCard)||void 0===l?void 0:l.expirationMonth,"/",null===(s=e.paymentCard)||void 0===s?void 0:s.expirationYear)),n.createElement(c.xv,null,e.paymentCard.holder)))))}))),!h&&!i&&t&&n.createElement(W.Z,{icon:n.createElement(E.OX,{boxSize:8}),heading:e({defaultMessage:[{type:0,value:"No Saved Payment Methods"}],id:"account_payment_methods.heading.no_saved_methods"}),text:e({defaultMessage:[{type:0,value:"Add a new payment method for faster checkout."}],id:"account_payment_methods.description.add_method_for_faster_checkout"}),buttonText:e({defaultMessage:[{type:0,value:"Add Payment Method"}],id:"account_payment_methods.button.add_method"}),onButtonClick:w}),i&&!h&&n.createElement(Se,{hasSavedPayments:h,form:f,toggleEdit:w,submitForm:y}))};Ze.getTemplateName=()=>"account-payment-methods";const Me=Ze;var Oe=a(7077),Ie=a(81),Ce=a(7742),ke=a(3269);const ze=()=>{const{path:e}=(0,i.$B)(),{formatMessage:t}=(0,o.Z)(),a=(0,p.Z)(),l=(0,i.TH)(),s=(0,J.Z)(),[h,y]=(0,n.useState)(-1),[v,b]=(0,n.useState)(!1),x=(0,ke.Z)(),{buildUrl:_}=(0,Ce.Z)();(0,n.useEffect)((()=>{x.sendViewPage(l.pathname)}),[l]);const w=function(){var e=(0,r.Z)((function*(){b(!0),yield a.logout(),s("/login")}));return function(){return e.apply(this,arguments)}}(),S=()=>n.createElement(n.Fragment,null,n.createElement(c.iz,{colorScheme:"gray",marginTop:3}),n.createElement(m.zx,{fontWeight:"500",onClick:w,padding:4,py:0,variant:"unstyled",_hover:{background:"gray.50"},marginTop:1,borderRadius:"4px",cursor:"pointer",height:11},n.createElement(c.kC,{justify:{base:"center",lg:"flex-start"}},n.createElement(E.Go,{boxSize:5,mr:2}),n.createElement(c.xv,{as:"span",fontSize:["md","md","md","sm"],fontWeight:"normal"},t({defaultMessage:[{type:0,value:"Log Out"}],id:"account.logout_button.button.log_out"})))));if(null!=a.authType&&!a.isRegistered){const e=_("/login");return n.createElement(i.l_,{to:{pathname:e,state:{directedFrom:l.pathname}}})}return n.createElement(c.xu,{"data-testid":a.isRegistered?"account-page":"account-page-skeleton",layerStyle:"page",paddingTop:[4,4,12,12,16]},n.createElement(g.Z,{title:"My Account",description:"Customer Account Page"}),n.createElement(c.rj,{templateColumns:{base:"1fr",lg:"320px 1fr"},gap:{base:10,lg:24}},n.createElement(u.UQ,{display:{base:"block",lg:"none"},allowToggle:!0,reduceMotion:!0,index:h,onChange:y},n.createElement(u.Qd,{border:"none",background:"gray.50",borderRadius:"base"},(({isExpanded:e})=>n.createElement(n.Fragment,null,n.createElement(u.KF,{as:m.zx,height:16,variant:"ghost",color:"black",_active:{background:"gray.100"},_expanded:{background:"transparent"}},n.createElement(c.kC,{align:"center",justify:"center"},n.createElement(c.xv,{as:"span",mr:2},n.createElement(d.Z,{defaultMessage:[{type:0,value:"My Account"}],id:"account.accordion.button.my_account"})),e?n.createElement(E.g8,null):n.createElement(E.v4,null))),n.createElement(u.Hk,{px:4,paddingBottom:4},n.createElement(c.kC,{as:"nav",spacing:0,direction:"column"},Ie.FV.map((e=>n.createElement(m.zx,{key:e.name,as:f.Z,to:`/account${e.path}`,useNavLink:!0,variant:"menu-link-mobile",justifyContent:"center",fontSize:"md",fontWeight:"normal",onClick:()=>y(-1)},t(Ie.sY[e.name])))),n.createElement(S,{justify:"center"}))))))),n.createElement(c.Kq,{display:{base:"none",lg:"flex"},spacing:4},v&&n.createElement(T.Z,{wrapperStyles:{height:"100vh"}}),n.createElement(c.X6,{as:"h6",fontSize:"18px"},n.createElement(d.Z,{defaultMessage:[{type:0,value:"My Account"}],id:"account.heading.my_account"})),n.createElement(c.kC,{spacing:0,as:"nav","data-testid":"account-detail-nav",direction:"column"},Ie.FV.map((e=>{const a=e.icon;return n.createElement(m.zx,{key:e.name,as:f.Z,to:`/account${e.path}`,useNavLink:!0,variant:"menu-link",leftIcon:n.createElement(a,{boxSize:5})},t(Ie.sY[e.name]))})),n.createElement(S,null))),n.createElement(i.rs,null,n.createElement(i.AW,{exact:!0,path:e},n.createElement(B,null)),n.createElement(i.AW,{exact:!0,path:`${e}/wishlist`},n.createElement(Oe.default,null)),n.createElement(i.AW,{exact:!0,path:`${e}/addresses`},n.createElement(Y,null)),n.createElement(i.AW,{path:`${e}/orders`},n.createElement(_e,null)),n.createElement(i.AW,{exact:!0,path:`${e}/payments`},n.createElement(Me,null)))))};ze.getTemplateName=()=>"account",ze.propTypes={match:s().object};const Pe=ze}}]);